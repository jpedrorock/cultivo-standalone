{
  "query": "CREATE TABLE IF NOT EXISTS plantTentHistory (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  fromTentId INT,\n  toTentId INT NOT NULL,\n  movedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  reason TEXT,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  FOREIGN KEY (fromTentId) REFERENCES tents(id),\n  FOREIGN KEY (toTentId) REFERENCES tents(id),\n  INDEX plantIdx (plantId)\n);\n\nCREATE TABLE IF NOT EXISTS plantObservations (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  observationDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  content TEXT NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (observationDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantPhotos (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  photoUrl VARCHAR(500) NOT NULL,\n  photoKey VARCHAR(500) NOT NULL,\n  description TEXT,\n  photoDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (photoDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantRunoffLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  logDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  volumeIn DECIMAL(6,2) NOT NULL,\n  volumeOut DECIMAL(6,2) NOT NULL,\n  runoffPercent DECIMAL(5,2) NOT NULL,\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (logDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantHealthLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  logDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  healthStatus ENUM('HEALTHY', 'STRESSED', 'SICK', 'RECOVERING') NOT NULL,\n  symptoms TEXT,\n  treatment TEXT,\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (logDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantTrichomeLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  logDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  trichomeStatus ENUM('CLEAR', 'CLOUDY', 'AMBER', 'MIXED') NOT NULL,\n  clearPercent INT,\n  cloudyPercent INT,\n  amberPercent INT,\n  photoUrl VARCHAR(500),\n  photoKey VARCHAR(500),\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (logDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantLSTLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  logDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  technique VARCHAR(100) NOT NULL,\n  beforePhotoUrl VARCHAR(500),\n  beforePhotoKey VARCHAR(500),\n  afterPhotoUrl VARCHAR(500),\n  afterPhotoKey VARCHAR(500),\n  response TEXT,\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (logDate)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 28MX9rHeRYrkZKS.5ffbe178d99f --database AhyBXV9CDav4cSFRqphBxc --execute CREATE TABLE IF NOT EXISTS plantTentHistory (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  fromTentId INT,\n  toTentId INT NOT NULL,\n  movedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  reason TEXT,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  FOREIGN KEY (fromTentId) REFERENCES tents(id),\n  FOREIGN KEY (toTentId) REFERENCES tents(id),\n  INDEX plantIdx (plantId)\n);\n\nCREATE TABLE IF NOT EXISTS plantObservations (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  observationDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  content TEXT NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (observationDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantPhotos (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  photoUrl VARCHAR(500) NOT NULL,\n  photoKey VARCHAR(500) NOT NULL,\n  description TEXT,\n  photoDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (photoDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantRunoffLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  logDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  volumeIn DECIMAL(6,2) NOT NULL,\n  volumeOut DECIMAL(6,2) NOT NULL,\n  runoffPercent DECIMAL(5,2) NOT NULL,\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (logDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantHealthLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  logDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  healthStatus ENUM('HEALTHY', 'STRESSED', 'SICK', 'RECOVERING') NOT NULL,\n  symptoms TEXT,\n  treatment TEXT,\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (logDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantTrichomeLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  logDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  trichomeStatus ENUM('CLEAR', 'CLOUDY', 'AMBER', 'MIXED') NOT NULL,\n  clearPercent INT,\n  cloudyPercent INT,\n  amberPercent INT,\n  photoUrl VARCHAR(500),\n  photoKey VARCHAR(500),\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (logDate)\n);\n\nCREATE TABLE IF NOT EXISTS plantLSTLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  plantId INT NOT NULL,\n  logDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  technique VARCHAR(100) NOT NULL,\n  beforePhotoUrl VARCHAR(500),\n  beforePhotoKey VARCHAR(500),\n  afterPhotoUrl VARCHAR(500),\n  afterPhotoKey VARCHAR(500),\n  response TEXT,\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (plantId) REFERENCES plants(id) ON DELETE CASCADE,\n  INDEX plantIdx (plantId),\n  INDEX dateIdx (logDate)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3526
}