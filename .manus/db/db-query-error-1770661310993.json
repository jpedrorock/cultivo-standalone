{
  "query": "\nCREATE TABLE IF NOT EXISTS `tents` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `name` VARCHAR(100) NOT NULL,\n  `tentType` ENUM('INDOOR', 'OUTDOOR', 'GREENHOUSE') NOT NULL,\n  `width` DECIMAL(5,2),\n  `depth` DECIMAL(5,2),\n  `height` DECIMAL(5,2),\n  `volume` DECIMAL(8,2),\n  `powerW` INT,\n  `createdAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS `strains` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `name` VARCHAR(100) NOT NULL,\n  `type` ENUM('INDICA', 'SATIVA', 'HYBRID', 'RUDERALIS') NOT NULL,\n  `vegaDays` INT DEFAULT 28,\n  `floraDays` INT DEFAULT 56,\n  `notes` TEXT,\n  `createdAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS `cycles` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `tentId` INT NOT NULL,\n  `strainId` INT NOT NULL,\n  `startDate` DATE NOT NULL,\n  `floraStartDate` DATE,\n  `status` ENUM('ACTIVE', 'COMPLETED', 'ABORTED') DEFAULT 'ACTIVE',\n  `createdAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (`tentId`) REFERENCES `tents`(`id`),\n  FOREIGN KEY (`strainId`) REFERENCES `strains`(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `alerts` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `tentId` INT NOT NULL,\n  `type` ENUM('TEMP_HIGH', 'TEMP_LOW', 'RH_HIGH', 'RH_LOW', 'PPFD_LOW', 'PH_HIGH', 'PH_LOW', 'EC_HIGH', 'EC_LOW', 'CUSTOM') NOT NULL,\n  `severity` ENUM('LOW', 'MEDIUM', 'HIGH', 'CRITICAL') DEFAULT 'MEDIUM',\n  `message` TEXT NOT NULL,\n  `value` DECIMAL(10,2),\n  `threshold` DECIMAL(10,2),\n  `status` ENUM('NEW', 'ACKNOWLEDGED', 'RESOLVED') DEFAULT 'NEW',\n  `createdAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  `acknowledgedAt` TIMESTAMP NULL,\n  `resolvedAt` TIMESTAMP NULL,\n  FOREIGN KEY (`tentId`) REFERENCES `tents`(`id`),\n  INDEX `idx_status` (`status`),\n  INDEX `idx_tent_status` (`tentId`, `status`)\n);\n\nINSERT INTO `tents` (`name`, `tentType`, `width`, `depth`, `height`, `volume`, `powerW`) VALUES\n('Estufa A', 'INDOOR', 1.20, 1.20, 2.00, 2.88, 600),\n('Estufa B', 'INDOOR', 0.80, 0.80, 1.60, 1.02, 300),\n('Estufa C', 'GREENHOUSE', 2.00, 1.50, 2.50, 7.50, 1000);\n\nINSERT INTO `strains` (`name`, `type`, `vegaDays`, `floraDays`, `notes`) VALUES\n('OG Kush', 'HYBRID', 28, 56, 'Strain clássica, resistente e produtiva');\n\nINSERT INTO `cycles` (`tentId`, `strainId`, `startDate`, `status`) VALUES\n(2, 1, DATE_SUB(CURDATE(), INTERVAL 14 DAYS), 'ACTIVE');\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 28MX9rHeRYrkZKS.5ffbe178d99f --database AhyBXV9CDav4cSFRqphBxc --execute \nCREATE TABLE IF NOT EXISTS `tents` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `name` VARCHAR(100) NOT NULL,\n  `tentType` ENUM('INDOOR', 'OUTDOOR', 'GREENHOUSE') NOT NULL,\n  `width` DECIMAL(5,2),\n  `depth` DECIMAL(5,2),\n  `height` DECIMAL(5,2),\n  `volume` DECIMAL(8,2),\n  `powerW` INT,\n  `createdAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS `strains` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `name` VARCHAR(100) NOT NULL,\n  `type` ENUM('INDICA', 'SATIVA', 'HYBRID', 'RUDERALIS') NOT NULL,\n  `vegaDays` INT DEFAULT 28,\n  `floraDays` INT DEFAULT 56,\n  `notes` TEXT,\n  `createdAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS `cycles` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `tentId` INT NOT NULL,\n  `strainId` INT NOT NULL,\n  `startDate` DATE NOT NULL,\n  `floraStartDate` DATE,\n  `status` ENUM('ACTIVE', 'COMPLETED', 'ABORTED') DEFAULT 'ACTIVE',\n  `createdAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (`tentId`) REFERENCES `tents`(`id`),\n  FOREIGN KEY (`strainId`) REFERENCES `strains`(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `alerts` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `tentId` INT NOT NULL,\n  `type` ENUM('TEMP_HIGH', 'TEMP_LOW', 'RH_HIGH', 'RH_LOW', 'PPFD_LOW', 'PH_HIGH', 'PH_LOW', 'EC_HIGH', 'EC_LOW', 'CUSTOM') NOT NULL,\n  `severity` ENUM('LOW', 'MEDIUM', 'HIGH', 'CRITICAL') DEFAULT 'MEDIUM',\n  `message` TEXT NOT NULL,\n  `value` DECIMAL(10,2),\n  `threshold` DECIMAL(10,2),\n  `status` ENUM('NEW', 'ACKNOWLEDGED', 'RESOLVED') DEFAULT 'NEW',\n  `createdAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  `acknowledgedAt` TIMESTAMP NULL,\n  `resolvedAt` TIMESTAMP NULL,\n  FOREIGN KEY (`tentId`) REFERENCES `tents`(`id`),\n  INDEX `idx_status` (`status`),\n  INDEX `idx_tent_status` (`tentId`, `status`)\n);\n\nINSERT INTO `tents` (`name`, `tentType`, `width`, `depth`, `height`, `volume`, `powerW`) VALUES\n('Estufa A', 'INDOOR', 1.20, 1.20, 2.00, 2.88, 600),\n('Estufa B', 'INDOOR', 0.80, 0.80, 1.60, 1.02, 300),\n('Estufa C', 'GREENHOUSE', 2.00, 1.50, 2.50, 7.50, 1000);\n\nINSERT INTO `strains` (`name`, `type`, `vegaDays`, `floraDays`, `notes`) VALUES\n('OG Kush', 'HYBRID', 28, 56, 'Strain clássica, resistente e produtiva');\n\nINSERT INTO `cycles` (`tentId`, `strainId`, `startDate`, `status`) VALUES\n(2, 1, DATE_SUB(CURDATE(), INTERVAL 14 DAYS), 'ACTIVE');\n",
  "returncode": 1,
  "logs": [
    "ERROR 1265 (01000) at line 54: Data truncated for column 'tentType' at row 1"
  ]
}